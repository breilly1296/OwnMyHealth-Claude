# ═══════════════════════════════════════════════════════════════════════════════
# OwnMyHealth Backend - PRODUCTION Environment Variables
# ═══════════════════════════════════════════════════════════════════════════════
#
# IMPORTANT: These values are for Railway deployment.
# Railway will automatically provide DATABASE_URL when you add a PostgreSQL plugin.
#
# Generate secure secrets with:
#   openssl rand -base64 32    (for JWT secrets)
#   openssl rand -hex 32       (for PHI encryption key)
#
# ═══════════════════════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────────────────────
# Server Configuration
# ───────────────────────────────────────────────────────────────────────────────
NODE_ENV=production
# PORT is automatically set by Railway

# ───────────────────────────────────────────────────────────────────────────────
# Database (Railway provides this automatically)
# ───────────────────────────────────────────────────────────────────────────────
# DATABASE_URL is automatically injected by Railway PostgreSQL plugin

# ───────────────────────────────────────────────────────────────────────────────
# JWT Authentication - CHANGE THESE!
# ───────────────────────────────────────────────────────────────────────────────
JWT_ACCESS_SECRET=CHANGE_ME_generate_with_openssl_rand_base64_32
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_SECRET=CHANGE_ME_generate_with_openssl_rand_base64_32
JWT_REFRESH_EXPIRES_IN=7d

# ───────────────────────────────────────────────────────────────────────────────
# PHI Encryption - CRITICAL: Generate and backup securely!
# ───────────────────────────────────────────────────────────────────────────────
PHI_ENCRYPTION_KEY=CHANGE_ME_generate_with_openssl_rand_hex_32

# ───────────────────────────────────────────────────────────────────────────────
# CORS - Set to your frontend domain
# ───────────────────────────────────────────────────────────────────────────────
CORS_ORIGIN=https://ownmyhealth.io

# ───────────────────────────────────────────────────────────────────────────────
# Security
# ───────────────────────────────────────────────────────────────────────────────
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30
BCRYPT_ROUNDS=12

# ───────────────────────────────────────────────────────────────────────────────
# Demo Account (optional, DISABLED BY DEFAULT in production)
# ───────────────────────────────────────────────────────────────────────────────
# Set to 'true' to allow demo account login in production
# WARNING: Only enable for demo/staging environments, never for real production!
ALLOW_DEMO_ACCOUNT=false

# Demo account password (required if ALLOW_DEMO_ACCOUNT=true)
# Generate a secure password for demo environments
# DEMO_PASSWORD=YourSecureDemoPassword123!

# ───────────────────────────────────────────────────────────────────────────────
# Rate Limiting
# ───────────────────────────────────────────────────────────────────────────────
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ───────────────────────────────────────────────────────────────────────────────
# Email (SendGrid)
# ───────────────────────────────────────────────────────────────────────────────
# Get your API key from https://app.sendgrid.com/settings/api_keys
# Free tier: 100 emails/day
SENDGRID_API_KEY=SG.your_api_key_here
EMAIL_FROM=noreply@ownmyhealth.io
EMAIL_FROM_NAME=OwnMyHealth
FRONTEND_URL=https://ownmyhealth.io
